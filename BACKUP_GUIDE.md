# 备份功能使用说明

## 概述

ItemPriceTracker 应用提供了完整的数据备份和恢复功能，确保您的数据安全。备份功能允许您：

- 创建自动备份
- 下载备份文件到本地
- 上传备份文件进行恢复
- 设置备份文件的存储路径

## 备份文件存储位置

### 默认备份路径

应用默认将备份文件存储在以下路径：

```
Documents/ItemPriceTracker/Backups/
```

此路径在不同设备上的实际位置可能有所不同：

- **Android设备**：`内部存储/Documents/ItemPriceTracker/Backups/`
- **iOS设备**：`文件应用/Documents/ItemPriceTracker/Backups/`
- **Web浏览器**：使用浏览器的本地存储

### 自定义备份路径

您可以根据需要设置自定义备份路径：

1. 在应用中打开「备份管理」页面
2. 点击「备份路径」按钮
3. 选择「使用默认备份路径」或「选择自定义路径」

> 注意：在Android设备上，由于文件系统权限限制，建议使用应用默认路径。

## 如何使用备份功能

### 创建备份

1. 在应用中打开「备份管理」页面
2. 点击「创建备份」按钮
3. 等待备份完成，系统会显示备份成功的提示

### 查看备份列表

1. 在应用中打开「备份管理」页面
2. 向下滚动到「备份列表」部分
3. 您将看到所有已创建的备份文件，包括文件名、创建日期和文件大小

### 从备份恢复

1. 在应用中打开「备份管理」页面
2. 在「备份列表」中找到您要恢复的备份
3. 点击备份文件右侧的「恢复」按钮
4. 在确认对话框中点击「确认」
5. 等待恢复完成，系统会显示恢复成功的提示

> 警告：恢复备份将覆盖当前所有数据，且无法撤销。请谨慎操作。

### 下载备份

1. 在应用中打开「备份管理」页面
2. 点击「下载备份」按钮
3. 备份文件将下载到您的设备本地存储

### 上传备份

1. 在应用中打开「备份管理」页面
2. 点击「上传备份」按钮
3. 选择您要上传的备份文件
4. 等待上传完成，系统会显示上传成功的提示

## 验证备份文件存储位置

### Android设备

1. 打开设备上的「文件管理器」应用
2. 导航到 `内部存储/Documents/ItemPriceTracker/Backups/` 目录
3. 您应该能看到以 `backup-` 开头的JSON文件

### iOS设备

1. 打开设备上的「文件」应用
2. 导航到「我的iPhone」或「我的iPad」>「Documents」>「ItemPriceTracker」>「Backups」目录
3. 您应该能看到以 `backup-` 开头的JSON文件

### 备份文件命名规则

备份文件采用以下命名规则：

```
backup-YYYY-MM-DDTHH-mm-ss.sssZ.json
```

例如：
```
backup-2026-02-11T10-30-00.000Z.json
```

## 故障排除

### 备份失败

如果备份失败，请检查以下几点：

1. 设备存储空间是否充足
2. 应用是否有文件系统访问权限
3. 备份路径是否存在且可写

### 恢复失败

如果恢复失败，请检查以下几点：

1. 备份文件是否完整且未损坏
2. 备份文件格式是否正确
3. 应用是否有足够的权限读取备份文件

### 找不到备份文件

如果找不到备份文件，请检查以下几点：

1. 备份文件是否已成功创建
2. 您是否在正确的目录中查找
3. 设备文件系统权限是否正确设置

## 最佳实践

1. **定期备份**：建议每周至少创建一次备份
2. **多处存储**：将重要备份文件下载并存储在多个位置
3. **验证备份**：创建备份后，定期验证备份文件是否能正常恢复
4. **命名规范**：为重要备份文件添加描述性名称，便于识别

## 技术说明

- 备份文件采用JSON格式存储
- 备份文件包含所有应用数据，包括物品信息、设置和提醒
- 备份过程在后台执行，不会影响应用性能
- 应用使用Capacitor Filesystem API进行文件操作，确保跨平台兼容性

## 联系支持

如果您在使用备份功能时遇到任何问题，请联系应用支持团队获取帮助。
