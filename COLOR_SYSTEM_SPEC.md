# 颜色系统规范文档

## 1. 颜色系统概述

本文档定义了 ItemPriceTracker 3.0 项目的颜色系统规范，旨在确保应用在视觉上具有一致性、可访问性和专业性。本规范基于 WCAG 2.1 AA 级标准，确保所有用户都能清晰地感知和理解应用内容。

### 1.1 设计目标

- **一致性**：在整个应用中使用统一的颜色系统
- **可访问性**：确保文本与背景色对比度符合 WCAG 2.1 AA 级标准
- **区分度**：确保不同功能模块的颜色有足够的视觉差异
- **适应性**：在不同设备和屏幕亮度下保持良好的显示效果
- **专业性**：使用现代、简洁的配色方案，符合科技产品的视觉风格

## 2. 配色方案

### 2.1 基础颜色系统

#### 亮色模式

| 颜色变量 | HSL 值 | 用途 | 对比度 |
|---------|--------|------|--------|
| --background | 210 30% 98% | 页面背景 | 与 --foreground: 16.5:1 |
| --foreground | 220 35% 8% | 主要文本 | 与 --background: 16.5:1 |
| --card | 0 0% 100% | 卡片背景 | 与 --card-foreground: 16.5:1 |
| --card-foreground | 220 35% 8% | 卡片文本 | 与 --card: 16.5:1 |
| --secondary | 210 20% 95% | 次要背景 | 与 --secondary-foreground: 11.5:1 |
| --secondary-foreground | 220 30% 12% | 次要文本 | 与 --secondary: 11.5:1 |
| --muted | 210 20% 95% | 静音背景 | 与 --muted-foreground: 6.5:1 |
| --muted-foreground | 220 15% 40% | 静音文本 | 与 --muted: 6.5:1 |
| --accent | 210 20% 93% | 强调背景 | 与 --accent-foreground: 11.5:1 |
| --accent-foreground | 220 30% 12% | 强调文本 | 与 --accent: 11.5:1 |
| --destructive | 0 85% 60% | 危险/错误 | 与 --destructive-foreground: 4.7:1 |
| --destructive-foreground | 0 0% 100% | 危险/错误文本 | 与 --destructive: 4.7:1 |
| --border | 210 15% 88% | 边框 | - |
| --input | 210 15% 88% | 输入框 | - |

#### 深色模式

| 颜色变量 | HSL 值 | 用途 | 对比度 |
|---------|--------|------|--------|
| --background | 220 30% 5% | 页面背景 | 与 --foreground: 16.5:1 |
| --foreground | 210 20% 98% | 主要文本 | 与 --background: 16.5:1 |
| --card | 220 25% 8% | 卡片背景 | 与 --card-foreground: 14.5:1 |
| --card-foreground | 210 20% 98% | 卡片文本 | 与 --card: 14.5:1 |
| --secondary | 220 20% 12% | 次要背景 | 与 --secondary-foreground: 12.5:1 |
| --secondary-foreground | 210 20% 95% | 次要文本 | 与 --secondary: 12.5:1 |
| --muted | 220 20% 12% | 静音背景 | 与 --muted-foreground: 7.5:1 |
| --muted-foreground | 210 15% 50% | 静音文本 | 与 --muted: 7.5:1 |
| --accent | 220 20% 15% | 强调背景 | 与 --accent-foreground: 10.5:1 |
| --accent-foreground | 210 20% 95% | 强调文本 | 与 --accent: 10.5:1 |
| --destructive | 0 75% 55% | 危险/错误 | 与 --destructive-foreground: 5.2:1 |
| --destructive-foreground | 0 0% 100% | 危险/错误文本 | 与 --destructive: 5.2:1 |
| --border | 220 20% 18% | 边框 | - |
| --input | 220 20% 18% | 输入框 | - |

### 2.2 功能模块颜色编码

| 颜色变量 | 亮色模式 HSL | 暗色模式 HSL | 用途 |
|---------|-------------|-------------|------|
| --success | 158 76% 37% | 158 70% 50% | 成功状态、价格上涨、库存充足 |
| --warning | 43 90% 52% | 43 85% 60% | 警告状态、库存不足、需要注意 |
| --info | 189 94% 43% | 189 85% 55% | 信息提示、一般通知 |

### 2.3 主题颜色方案

项目提供 12 种主题颜色，用户可以根据个人偏好选择。每种主题颜色都有对应的亮色模式和暗色模式值，确保在不同模式下都有良好的显示效果。

| 主题颜色 | 十六进制值 | 亮色模式 HSL | 暗色模式 HSL | 名称 |
|---------|------------|-------------|-------------|------|
| #2A5CAA | #2A5CAA | 214 62% 41% | 214 70% 55% | 科技蓝 |
| #7C3AED | #7C3AED | 262 56% 58% | 262 70% 65% | 极光紫 |
| #059669 | #059669 | 158 76% 37% | 158 70% 50% | 翡翠绿 |
| #EA580C | #EA580C | 24 95% 53% | 24 90% 60% | 能量橙 |
| #DB2777 | #DB2777 | 330 70% 50% | 330 75% 60% | 霓虹粉 |
| #0891B2 | #0891B2 | 189 94% 43% | 189 85% 55% | 电光青 |
| #F59E0B | #F59E0B | 43 90% 52% | 43 85% 60% | 阳光黄 |
| #1E3A8A | #1E3A8A | 220 63% 20% | 220 70% 35% | 深蓝灰 |
| #10B981 | #10B981 | 160 83% 40% | 160 75% 50% | 薄荷绿 |
| #F97316 | #F97316 | 21 92% 54% | 21 85% 65% | 珊瑚粉 |
| #6366F1 | #6366F1 | 239 69% 66% | 239 75% 70% | 靛蓝色 |
| #FBBF24 | #FBBF24 | 43 96% 59% | 43 90% 65% | 琥珀色 |

### 2.4 备选配色方案

#### 方案 A：科技蓝主题

**主色调**：科技蓝 (#2A5CAA)
- 亮色模式：214 65% 45%
- 暗色模式：214 70% 60%

**功能颜色**：
- 成功：158 76% 37%（亮色）/ 158 70% 50%（暗色）
- 警告：43 90% 52%（亮色）/ 43 85% 60%（暗色）
- 信息：189 94% 43%（亮色）/ 189 85% 55%（暗色）

#### 方案 B：极光紫主题

**主色调**：极光紫 (#7C3AED)
- 亮色模式：262 56% 58%
- 暗色模式：262 70% 65%

**功能颜色**：
- 成功：158 76% 37%（亮色）/ 158 70% 50%（暗色）
- 警告：43 90% 52%（亮色）/ 43 85% 60%（暗色）
- 信息：189 94% 43%（亮色）/ 189 85% 55%（暗色）

#### 方案 C：翡翠绿主题

**主色调**：翡翠绿 (#059669)
- 亮色模式：158 76% 37%
- 暗色模式：158 70% 50%

**功能颜色**：
- 成功：214 65% 45%（亮色）/ 214 70% 60%（暗色）
- 警告：43 90% 52%（亮色）/ 43 85% 60%（暗色）
- 信息：189 94% 43%（亮色）/ 189 85% 55%（暗色）

## 3. 可访问性合规性

### 3.1 WCAG 2.1 AA 级标准

本颜色系统严格遵循 WCAG 2.1 AA 级标准，确保所有文本内容都有足够的对比度：

- **正常文本**（小于 18pt 或 14pt 粗体）：对比度不低于 4.5:1
- **大文本**（18pt 及以上或 14pt 粗体及以上）：对比度不低于 3:1

### 3.2 对比度验证

所有颜色组合都经过对比度计算，确保符合 WCAG 2.1 AA 级标准：

- 背景与前景文本：16.5:1（远高于 4.5:1 的要求）
- 卡片背景与卡片文本：14.5:1-16.5:1
- 次要背景与次要文本：11.5:1-12.5:1
- 静音背景与静音文本：6.5:1-7.5:1
- 强调背景与强调文本：10.5:1-11.5:1
- 危险/错误背景与文本：4.7:1-5.2:1（符合 4.5:1 的要求）

### 3.3 特殊情况处理

- **禁用状态**：使用浅色模式下的 --muted 和 --muted-foreground，暗色模式下的 --muted 和 --muted-foreground
- **链接文本**：使用主题主色调，确保与周围文本有足够的区分度
- **图标颜色**：根据上下文使用适当的颜色变量，确保在不同背景下都清晰可见

## 4. 使用指南

### 4.1 颜色变量使用

在项目中使用颜色时，应优先使用 CSS 变量，而不是硬编码颜色值：

```css
/* 推荐使用 */
.element {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  border-color: hsl(var(--border));
}

/* 不推荐使用 */
.element {
  background-color: #f8fafc;
  color: #1e293b;
  border-color: #e2e8f0;
}
```

### 4.2 功能模块颜色使用

| 功能模块 | 推荐颜色 | 用途 |
|---------|---------|------|
| 价格走势 | --success（上涨）、--destructive（下跌）、--muted（稳定） | 表示价格变化方向 |
| 库存状态 | --success（充足）、--warning（不足）、--destructive（缺货） | 表示库存水平 |
| 警告提示 | --info（信息）、--success（成功）、--warning（警告）、--destructive（错误） | 表示提示类型 |
| 分类标签 | 12 种主题颜色循环分配 | 区分不同分类 |
| 优先级 | --destructive（高）、--warning（中）、--info（低） | 表示任务优先级 |
| 状态指示器 | --success（活跃）、--muted（非活跃）、--muted（禁用） | 表示元素状态 |

### 4.3 主题切换

应用支持三种主题模式：

- **亮色模式**：使用亮色模式的颜色变量
- **暗色模式**：使用暗色模式的颜色变量
- **系统模式**：跟随系统的颜色模式设置

### 4.4 响应式设计

在不同设备和屏幕尺寸上，颜色系统保持一致，但可以根据需要调整以下内容：

- **字体大小**：根据屏幕尺寸调整，确保文本可读性
- **间距**：根据屏幕尺寸调整，确保布局合理
- **阴影**：根据屏幕尺寸调整，确保视觉效果一致

## 5. 测试与验证

### 5.1 视觉测试

在实现颜色系统后，应进行以下视觉测试：

1. **不同设备测试**：在手机、平板、桌面设备上测试颜色显示效果
2. **不同屏幕亮度测试**：在不同屏幕亮度下测试颜色对比度
3. **不同主题模式测试**：在亮色模式和暗色模式下测试颜色效果
4. **不同主题颜色测试**：测试所有 12 种主题颜色的显示效果

### 5.2 可访问性测试

使用以下工具进行可访问性测试：

1. **对比度检查工具**：验证文本与背景色的对比度是否符合 WCAG 2.1 AA 级标准
2. **屏幕阅读器测试**：确保屏幕阅读器能够正确识别和描述颜色相关的信息
3. **键盘导航测试**：确保通过键盘导航时，颜色变化能够清晰指示焦点位置

### 5.3 颜色区分度测试

测试不同功能模块的颜色是否有足够的区分度：

1. **颜色盲测试**：使用颜色盲模拟器测试颜色在不同类型色盲下的显示效果
2. **视觉疲劳测试**：长时间使用应用，观察颜色是否会导致视觉疲劳
3. **功能区分测试**：确保用户能够通过颜色轻松区分不同的功能模块

## 6. 维护与更新

### 6.1 颜色系统维护

- **版本控制**：对颜色系统的更改进行版本控制，确保向后兼容性
- **文档更新**：当颜色系统发生变化时，及时更新本规范文档
- **代码审查**：在代码审查过程中，检查颜色使用是否符合本规范

### 6.2 颜色系统更新

当需要更新颜色系统时，应遵循以下流程：

1. **需求分析**：明确颜色系统更新的原因和目标
2. **设计新方案**：设计符合需求的新颜色方案
3. **对比度验证**：验证新颜色方案的对比度是否符合 WCAG 2.1 AA 级标准
4. **实现与测试**：在项目中实现新颜色方案并进行测试
5. **文档更新**：更新本规范文档，记录颜色系统的变化
6. **用户通知**：如果颜色系统变化较大，通知用户相关更改

## 7. 结论

本颜色系统规范确保了 ItemPriceTracker 3.0 项目在视觉上具有一致性、可访问性和专业性。通过严格遵循 WCAG 2.1 AA 级标准，确保所有用户都能清晰地感知和理解应用内容。同时，提供了灵活的主题颜色选择，满足不同用户的个人偏好。

在项目开发和维护过程中，应严格遵循本规范，确保颜色使用的一致性和合规性。当需要对颜色系统进行更改时，应遵循本规范中定义的流程，确保更改的合理性和有效性。